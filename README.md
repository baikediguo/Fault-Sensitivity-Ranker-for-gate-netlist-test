# Fault-Sensitivity-Ranker-for-gate-netlist-test
本项目旨在构建一个故障点智能选取系统（“故障敏感度评分器”）：在不进行显式故障注入的前提下，利用电路网表的结构/拓扑特征与图神经网络（GNN）自监督表征，对每个节点的故障敏感度进行打分与排序（Top-K）。随后仅对高分节点做少量注入仿真进行验证，从而在保证覆盖率可观的同时，显著减少仿真次数与验证成本。该系统面向 DFT/验证/可靠性工程流程，目标是成为“测试向导（test guidance）”——把资源优先投向更可能出问题、对系统行为更关键的节点。

## 为什么要“尽早识别敏感节点”？——具体收益

1.测试与仿真效率大增
*传统做法是对海量节点做均匀或盲目注入，成本随规模指数级上涨；敏感度排序让我们把80% 的仿真预算投到 20% 的关键节点。

*更少的 vvp/ATE 向量、缩短 iverilog 编译—运行—比对闭环的总时长。

2.更快的收敛，更少的回归

*先聚焦高风险节点，可更早发现“致命故障路径”，缩短设计—验证—修复的闭环周期。

*对回归场景，Top-K 白名单可作为**“冒烟测试”**优先集，使每次提交都有高价值的快速反馈。

3.DFT/ATPG/冗余优化的“放大器”

*敏感度高的网点往往位于高扇出、强收敛或近时序边界位置，对测试可观测/可控性影响大。

*排名结果可直接为 ATPG 目标化、观察点/控制点插入、选择性 TMR/ECC/Parity 加固提供量化依据。

4.可靠性与可制造性（Yield/Reliability）提升

*对于软错误（SEU）/老化/变工艺角等场景，优先加固/监测高敏感节点可抑制系统级失效传播，提升稳定性与良率。

*在安全/车规/航天等场景，有助于满足特定故障覆盖目标与合规性要求。

5.安全分析（Fault Attack Surface）辅助

*在安全芯片/加密模块中，敏感节点排序有助于定位故障注入攻击的高价值表面，为攻防研究与缓解策略提供依据。

6.调试与 ECO 指导

*敏感节点往往是调试“捷径”：日志/探针优先放在这些点上可提升诊断速度。

*ECO 前后对敏感度的变化可量化风险，帮助评估修改对可测性/可观测性的影响。

7.节省硬件/仿真资源成本

*在算力/许可证受限的环境下（CI、云仿真、共享 farm），Top-K 策略能把同样预算转化为更高覆盖收益。

## 我们如何达成目标（与代码配套）
1. 预测阶段：unsup_sensitivity.py

*基于 Pyverilog 解析网表，构建“网点+实例”的有向图；

*提取结构/拓扑特征（度中心性、到输出的距离、近时序边界、重收敛度、深度等）；

*使用 DGI 自监督方式学习节点嵌入，融合成敏感度分数，输出 gnn_rank.txt（全节点排序）。

*无需任何故障注入，可作为快速预筛选。

2. 验证阶段：manual_validation.py
*读取 gnn_rank.txt 的 Top-K 节点，与网表中可注入的合法目标求交集；

*只对这部分高分节点分别注入 sa0/sa1，与 golden 输出对比，统计节点覆盖率/故障覆盖率；

*以极少数量的注入，验证“排序是否有效”，为后续 DFT/ATPG/加固决策提供依据。

通过这套“先智能筛选，再小样本验证”的流程，能在不牺牲覆盖目标的前提下，显著压缩验证时间与算力花费，把工程力量集中在对系统行为最关键的网点上。

## 环境配置

